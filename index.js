"use strict";exports.__esModule=true;exports.CONSTANT_PREFIX=exports.FUNCTION_PREFIX=exports.MULTI_EXPORTS=exports.EXTENSION=exports.EXTENSION_JS=exports.DEFAULT_TEMPLATE=exports.TEMPLATE=exports.COMPONENT=exports.FLAGS=exports.ARGS=exports.run=void 0;var tezcatl_cli_1=require("@makechtec/tezcatl-cli");var tezcatl_conditional_processor_1=require("@makechtec/tezcatl-conditional-processor");var tezcatl_iterative_processor_1=require("@makechtec/tezcatl-iterative-processor");var pipe_1=require("@makechtec/pipe");var run=function(){var component=tezcatl_cli_1.CLI.getArgumentValue(exports.ARGS.component);var template=tezcatl_cli_1.CLI.getArgumentValue(exports.ARGS.template);var targetDir=tezcatl_cli_1.CLI.getArgumentValue(exports.ARGS.targetDir);var placeholders=tezcatl_cli_1.CLI.getAllArguments();var file=tezcatl_cli_1.CLI.getArgumentValue(exports.ARGS.file);var ext=exports.EXTENSION;if(tezcatl_cli_1.CLI.isFlag(exports.FLAGS.js)){ext=exports.EXTENSION_JS}if(template==""){template=exports.DEFAULT_TEMPLATE}if(file==""){file=component}var fileName=targetDir+"/"+file+ext;var content=tezcatl_cli_1.Reader.readTemplate(template);var conditionalProcessor=new tezcatl_conditional_processor_1.ConditionalProcessor;var iterativeProcessor=new tezcatl_iterative_processor_1.IterativeProcessor;var pipe=new pipe_1.Pipe(content);pipe.addAction((function(newContent){return conditionalProcessor.parse(newContent)})).addAction((function(newContent){return iterativeProcessor.parse(newContent)})).addAction((function(newContent){return tezcatl_cli_1.Reader.changePlaceholders(newContent,placeholders)})).addAction((function(newContent){tezcatl_cli_1.Writter.writeFile(fileName,newContent)})).execActions()};exports.run=run;exports.ARGS={component:"com",template:"temp",targetDir:"dir",file:"file"};exports.FLAGS={js:"js"};exports.COMPONENT="c";exports.TEMPLATE="t";exports.DEFAULT_TEMPLATE="react-component";exports.EXTENSION_JS=".js";exports.EXTENSION=".jsx";exports.MULTI_EXPORTS="multi";exports.FUNCTION_PREFIX="fn";exports.CONSTANT_PREFIX="const";